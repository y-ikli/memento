
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://y-ikli.github.io/memento/python/memento_python/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../../git/memento_git/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.37">
    
    
      
        <title>Memento Python - Memento Data Engineering</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#memento-python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Memento Data Engineering" class="md-header__button md-logo" aria-label="Memento Data Engineering" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Memento Data Engineering
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Memento Python
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Memento Data Engineering" class="md-nav__button md-logo" aria-label="Memento Data Engineering" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Memento Data Engineering
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accueil
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Memento Python
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Memento Python
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#type-hints-static-checking" class="md-nav__link">
    <span class="md-ellipsis">
      Type Hints &amp; Static Checking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typeddict" class="md-nav__link">
    <span class="md-ellipsis">
      TypedDict
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namedtuples" class="md-nav__link">
    <span class="md-ellipsis">
      NamedTuples
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mypy" class="md-nav__link">
    <span class="md-ellipsis">
      mypy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mypy-strict-true-enables-all-strict-checks-recommended-ignore_missing_imports-true-dont-fail-on-3rd-party-libraries-with-no-stubs-disallow_untyped_defs-true-force-you-to-type-all-function-defs-warn_unused_ignores-true-warn-if-you-ignore-something-unnecessarily-exclude-tests-dont-type-check-test-files" class="md-nav__link">
    <span class="md-ellipsis">
      [mypy] strict = True # Enables all strict checks (recommended!) ignore_missing_imports = True # Don’t fail on 3rd-party libraries with no stubs disallow_untyped_defs = True # Force you to type all function defs warn_unused_ignores = True # Warn if you ignore something unnecessarily exclude = tests/ # Don&#39;t type-check test files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic" class="md-nav__link">
    <span class="md-ellipsis">
      Pydantic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-contracts-with-protobuf" class="md-nav__link">
    <span class="md-ellipsis">
      Data Contracts with Protobuf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-documentation-generator" class="md-nav__link">
    <span class="md-ellipsis">
      Python Documentation Generator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match" class="md-nav__link">
    <span class="md-ellipsis">
      match:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#map-and-reduce" class="md-nav__link">
    <span class="md-ellipsis">
      Map and Reduce
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Git
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/memento_git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memento Git
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/memento_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memento Docker
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sql/memento_sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memento SQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TDD
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            TDD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tdd/memento_tdd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memento TDD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Clean Code
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Clean Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clean_code/memento_clean_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memento Clean Code
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#type-hints-static-checking" class="md-nav__link">
    <span class="md-ellipsis">
      Type Hints &amp; Static Checking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typeddict" class="md-nav__link">
    <span class="md-ellipsis">
      TypedDict
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#namedtuples" class="md-nav__link">
    <span class="md-ellipsis">
      NamedTuples
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mypy" class="md-nav__link">
    <span class="md-ellipsis">
      mypy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mypy-strict-true-enables-all-strict-checks-recommended-ignore_missing_imports-true-dont-fail-on-3rd-party-libraries-with-no-stubs-disallow_untyped_defs-true-force-you-to-type-all-function-defs-warn_unused_ignores-true-warn-if-you-ignore-something-unnecessarily-exclude-tests-dont-type-check-test-files" class="md-nav__link">
    <span class="md-ellipsis">
      [mypy] strict = True # Enables all strict checks (recommended!) ignore_missing_imports = True # Don’t fail on 3rd-party libraries with no stubs disallow_untyped_defs = True # Force you to type all function defs warn_unused_ignores = True # Warn if you ignore something unnecessarily exclude = tests/ # Don&#39;t type-check test files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic" class="md-nav__link">
    <span class="md-ellipsis">
      Pydantic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-contracts-with-protobuf" class="md-nav__link">
    <span class="md-ellipsis">
      Data Contracts with Protobuf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-documentation-generator" class="md-nav__link">
    <span class="md-ellipsis">
      Python Documentation Generator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match" class="md-nav__link">
    <span class="md-ellipsis">
      match:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#map-and-reduce" class="md-nav__link">
    <span class="md-ellipsis">
      Map and Reduce
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorators" class="md-nav__link">
    <span class="md-ellipsis">
      Decorators
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="memento-python">Memento Python<a class="headerlink" href="#memento-python" title="Permanent link">&para;</a></h1>
<p>This memento summarizes some native Python features with structured examples.</p>
<h2 id="type-hints-static-checking">Type Hints &amp; Static Checking<a class="headerlink" href="#type-hints-static-checking" title="Permanent link">&para;</a></h2>
<p>Type hints help document your code and catch bugs early. Combined with tools like <code>mypy</code>, they enable static analysis without running the code.</p>
<p><strong>Basic Type Hints</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<hr />
<p><strong>Hints for Collections</strong></p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span>

<span class="k">def</span> <span class="nf">total</span><span class="p">(</span><span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">extract_ids</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
</code></pre></div>
- In first example prices are a list of floats.
- In the second example, data is expected to be a list of dictionaries.Each dictionary maps strings to integers 
This means you expect something like:
<code>[{"id": 1}, {"id": 2}, {"id": 3}]</code></p>
<hr />
<p><strong>Optional, Union, Literal</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Literal</span>

<span class="k">def</span> <span class="nf">maybe_add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
</details>
<ul>
<li>b is optional, meaning it can be int or None (Optional[int])</li>
<li>If b is None, use 0 instead</li>
<li>If b is an integer (e.g., 5), use it</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_event</span><span class="p">(</span><span class="nb">type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span>
</code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
</details>
<ul>
<li>type can be a str or an int</li>
<li>The function returns nothing (None)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">status_color</span><span class="p">(</span><span class="n">status</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ok&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="s2">&quot;warning&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;ok&quot;</span><span class="p">:</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;warning&quot;</span><span class="p">:</span> <span class="s2">&quot;yellow&quot;</span><span class="p">}[</span><span class="n">status</span><span class="p">]</span>
</code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
</details>
<ul>
<li><code>status: Literal["ok", "error", "warning"]</code> restricts allowed values.</li>
<li>Helps prevent bugs by allowing only specific strings.</li>
<li>If you try another value, static checkers like <code>mypy</code> will raise an error.</li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Type Hints Are Static Only</p>
<p>Python does <strong>not enforce types at runtime</strong>.<br />
Type hints are for <strong>developers</strong>, IDEs, and tools like <code>mypy</code> — they make your code safer and more readable but don’t stop bad values at runtime unless you add validation.   </p>
</div>
<hr />
<p><strong>Other Special Types</strong></p>
<ul>
<li><code>Any</code>: Indicates that a value can be of any type.</li>
<li><code>Union[T1, T2, ...]</code>: Used to indicate that a value can be one of several types.</li>
<li><code>Optional[T]</code>: A shorthand for <code>Union[T, None]</code>, meaning the value could be of type <code>T</code> or <code>None</code>.</li>
<li><code>Callable[[Arg1Type, Arg2Type], ReturnType]</code>: Represents a function or any other callable object with the specified argument types and return type.</li>
<li><code>TypeVar</code>: Used for creating generic types.</li>
</ul>
<hr />
<h2 id="typeddict">TypedDict<a class="headerlink" href="#typeddict" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypedDict</span>

<span class="k">class</span> <span class="nc">Product</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">price</span><span class="p">:</span> <span class="nb">float</span>

<span class="k">def</span> <span class="nf">apply_discount</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Product</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.9</span>
</code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
</details>
<ul>
<li>TypedDict allows you to define the structure of a dictionary using class-like syntax. - It’s perfect for describing JSON-like data, where keys and value types are known. - Fields are type-checked with tools like mypy, but at runtime it’s still just a dict.</li>
</ul>
<hr />
<h2 id="namedtuples">NamedTuples<a class="headerlink" href="#namedtuples" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">NamedTuple</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
<ul>
<li>Combines tuple immutability with named fields and type hints.</li>
<li>Values are <strong>positionally fixed</strong> and <strong>read-only</strong>.</li>
<li>Supports dot notation: <code>user.name</code>, like an object.</li>
</ul>
</details>
<p>✅ Example:
<div class="highlight"><pre><span></span><code><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># ➜ Alice</span>
</code></pre></div>
- 🔒 NamedTuples are immutable — you can’t do <code>user.name = "Bob"</code></p>
<hr />
<h2 id="mypy">mypy<a class="headerlink" href="#mypy" title="Permanent link">&para;</a></h2>
<p>mypy scan a python file and report any type violations based on annotations (e.g., using TypedDict, List[int], etc.).
<div class="highlight"><pre><span></span><code>mypy<span class="w"> </span>script.py
</code></pre></div>
- It analyzes your code without running it.
- It checks if your type hints are correct.
- It helps prevent bugs early by catching issues like missing return types, wrong arguments, etc.</p>
<p>We can add a config file <code>mypy.ini</code> to enforce rules, It tells mypy:</p>
<ul>
<li>How strict to be</li>
<li>What files or modules to include/exclude</li>
<li>Whether to allow missing type hints</li>
<li>Whether to treat certain errors as warnings</li>
<li>Project-specific overrides</li>
</ul>
<h2 id="mypy-strict-true-enables-all-strict-checks-recommended-ignore_missing_imports-true-dont-fail-on-3rd-party-libraries-with-no-stubs-disallow_untyped_defs-true-force-you-to-type-all-function-defs-warn_unused_ignores-true-warn-if-you-ignore-something-unnecessarily-exclude-tests-dont-type-check-test-files"><div class="highlight"><pre><span></span><code><span class="k">[mypy]</span>
<span class="na">strict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span><span class="w">                   </span><span class="c1"># Enables all strict checks (recommended!)</span>
<span class="na">ignore_missing_imports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span><span class="w">   </span><span class="c1"># Don’t fail on 3rd-party libraries with no stubs</span>
<span class="na">disallow_untyped_defs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span><span class="w">    </span><span class="c1"># Force you to type all function defs</span>
<span class="na">warn_unused_ignores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span><span class="w">      </span><span class="c1"># Warn if you ignore something unnecessarily</span>
<span class="na">exclude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">tests/</span><span class="w">                </span><span class="c1"># Don&#39;t type-check test files</span>
</code></pre></div><a class="headerlink" href="#mypy-strict-true-enables-all-strict-checks-recommended-ignore_missing_imports-true-dont-fail-on-3rd-party-libraries-with-no-stubs-disallow_untyped_defs-true-force-you-to-type-all-function-defs-warn_unused_ignores-true-warn-if-you-ignore-something-unnecessarily-exclude-tests-dont-type-check-test-files" title="Permanent link">&para;</a></h2>
<h2 id="pydantic">Pydantic<a class="headerlink" href="#pydantic" title="Permanent link">&para;</a></h2>
<p>Pydantic is a powerful library that uses Python type hints to enforce data structure and validate inputs at runtime.</p>
<p>Basic Model:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
<p>✅ Example:
<div class="highlight"><pre><span></span><code><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>  <span class="c1"># ➜ 123 (auto-converted to int)</span>
</code></pre></div></p>
<details class="note" open="open">
<summary>Why use Pydantic?</summary>
</details>
<ul>
<li>Enforces types at runtime</li>
<li>Converts compatible types (e.g., str ➜ int)</li>
<li>Raises clear validation errors on failure</li>
</ul>
<p>Field Constraints:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>

<span class="k">class</span> <span class="nc">Product</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">price</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
<p>✅ Example:
<div class="highlight"><pre><span></span><code><span class="n">Product</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Laptop&quot;</span><span class="p">,</span> <span class="n">price</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">)</span>  <span class="c1"># ✅ Valid</span>
<span class="n">Product</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="n">price</span><span class="o">=-</span><span class="mi">10</span><span class="p">)</span>          <span class="c1"># ❌ ValidationError</span>
</code></pre></div></p>
<details class="note" open="open">
<summary>Field Constraints</summary>
</details>
<ul>
<li><code>min_length=2</code>: name must be at least 2 characters</li>
<li><code>gt=0</code>: price must be greater than 0</li>
<li><code>Field(...)</code>: required with constraints</li>
</ul>
<p><strong>Nested Models</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Address</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">city</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">country</span><span class="p">:</span> <span class="nb">str</span>

<span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">address</span><span class="p">:</span> <span class="n">Address</span>
</code></pre></div>
<p>✅ Example:
<div class="highlight"><pre><span></span><code><span class="n">cust</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;Paris&quot;</span><span class="p">,</span> <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;FR&quot;</span><span class="p">})</span>
</code></pre></div></p>
<details class="note" open="open">
<summary>Nested Models</summary>
</details>
<ul>
<li>Nested BaseModels are validated recursively</li>
<li>Great for structured data like JSON config or API payloads</li>
</ul>
<hr />
<p><strong>Custom Validation</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">validator</span>

<span class="k">class</span> <span class="nc">Event</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">payload</span><span class="p">:</span> <span class="nb">dict</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">must_be_known</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="s2">&quot;view&quot;</span><span class="p">,</span> <span class="s2">&quot;purchase&quot;</span><span class="p">}:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid event type&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
<p>✅ Example:
<div class="highlight"><pre><span></span><code><span class="n">Event</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="p">{})</span>       <span class="c1"># ✅</span>
<span class="n">Event</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="p">{})</span>     <span class="c1"># ❌ ValidationError</span>
</code></pre></div></p>
<details class="note" open="open">
<summary>🔍 Custom Logic</summary>
</details>
<ul>
<li>Validators allow custom logic on fields</li>
<li>Raise <code>ValueError</code> to reject bad input</li>
</ul>
<hr />
<p><strong>Tools like Pydantic</strong></p>
<p>Pydantic is powerful, but We might also consider:</p>
<ul>
<li><code>TypedDict</code> → static-only, no runtime checks</li>
<li><code>attrs</code> → high-performance data classes with validation</li>
<li><code>marshmallow</code> → schema-based (de)serialization and validation</li>
<li><code>typeguard</code> → simple runtime type enforcement with decorators</li>
<li><code>Protobuf</code> → typed messages for streaming / microservices</li>
</ul>
<hr />
<h2 id="data-contracts-with-protobuf">Data Contracts with Protobuf<a class="headerlink" href="#data-contracts-with-protobuf" title="Permanent link">&para;</a></h2>
<p>For data engineers working with <strong>microservices</strong>, <strong>streaming</strong>, or <strong>cross-language systems</strong>, <strong>Protocol Buffers (Protobuf)</strong> provide a fast, strongly typed, and schema-first approach to data serialization.</p>
<p>What is Protobuf?</p>
<ul>
<li>Defines structured data with <code>.proto</code> schema files</li>
<li>Generates code in multiple languages (Python, Go, Java…)</li>
<li>Perfect for APIs, Kafka events, gRPC, and long-term data contracts</li>
</ul>
<hr />
<p>Defining a Schema (<code>.proto</code>):</p>
<div class="highlight"><pre><span></span><code><span class="k">syntax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;proto3&quot;</span><span class="p">;</span>

<span class="kd">message</span><span class="w"> </span><span class="nc">Event</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int64</span><span class="w"> </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="na">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Define message structure</li>
<li>Fields have fixed types and unique IDs</li>
<li>Supports primitives, enums, nesting, repeated fields, etc.</li>
</ul>
<hr />
<p>Generating Python Code:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Install</span>
pip<span class="w"> </span>install<span class="w"> </span>protobuf

<span class="c1"># Generate Python classes</span>
protoc<span class="w"> </span>--python_out<span class="o">=</span>.<span class="w"> </span>event.proto
</code></pre></div>
<p>This generates a Python class <code>Event</code> , we can import and use.</p>
<hr />
<p>Using Generated Code:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">event_pb2</span> <span class="kn">import</span> <span class="n">Event</span>

<span class="n">event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>         <span class="c1"># ➜ click</span>
<span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span>  <span class="c1"># ➜ binary format</span>
</code></pre></div>
<p>✅ Example: serialize the event and send it over a socket or Kafka.</p>
<hr />
<p>Deserialization:</p>
<p><div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>
</code></pre></div>
On the receiving side:
<div class="highlight"><pre><span></span><code><span class="n">event2</span> <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>
<span class="n">event2</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">event2</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>  <span class="c1"># ➜ 123</span>
</code></pre></div></p>
<ul>
<li>We can safely parse and validate the binary payload using the generated schema.</li>
<li>If the payload doesn't match, it fails fast.</li>
</ul>
<details class="note" open="open">
<summary>Why Use Protobuf Instead of JSON?</summary>
</details>
<ul>
<li>Faster: compact binary format is smaller and faster than JSON</li>
<li>Typed: strict field types prevent many bugs</li>
<li>Evolvable: supports optional fields and versioning without breaking older clients</li>
</ul>
<hr />
<ul>
<li>
<p>Use <code>mypy-protobuf</code> to generate <code>.pyi</code> stub files for better IDE/type checker support:
    <div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>mypy-protobuf
protoc<span class="w"> </span>--python_out<span class="o">=</span>.<span class="w"> </span>--mypy_out<span class="o">=</span>.<span class="w"> </span>schema.proto
</code></pre></div></p>
</li>
<li>
<p>Combine Protobuf messages with Kafka or gRPC for fast, safe communication.</p>
</li>
<li>Avoid tight coupling: keep <code>.proto</code> files in shared versioned repos for teams.</li>
</ul>
<hr />
<h2 id="python-documentation-generator">Python Documentation Generator<a class="headerlink" href="#python-documentation-generator" title="Permanent link">&para;</a></h2>
<p>Pyment is a simple tool for generating and enhancing docstrings in Python. It supports multiple formats, including Google, NumPy, and reST. 
First, install Pyment using <code>pip</code>:</p>
<p><div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pyment
</code></pre></div>
To generate and initialize docstrings for your Python file(with google format), run the following command:
<code>pyment --init --format google &lt;your-python-file.py&gt;</code></p>
<p>Generating Docstrings for Classes
Pyment can also generate docstrings for Python classes.</p>
<p><code>pyment --init --class &lt;your-python-file.py&gt;</code></p>
<p>Generate Docstrings for Entire Project
You can also generate docstrings for an entire project (all Python files) using Pyment.</p>
<p><code>pyment --init --all</code>
This command will go through all Python files in the current directory and generate docstrings for functions, methods, and classes.</p>
<h2 id="match">match:<a class="headerlink" href="#match" title="Permanent link">&para;</a></h2>
<p>match statement: It’s used to match a value (expression) against several patterns.</p>
<p>Patterns: These are conditions that specify what data to match, such as literal values, variable bindings, and complex patterns (like sequences, mappings, or classes).</p>
<p>Basic Syntax:</p>
<p><div class="highlight"><pre><span></span><code><span class="k">match</span> <span class="n">value</span><span class="p">:</span>
    <span class="k">case</span> <span class="n">pattern1</span><span class="p">:</span>
        <span class="c1"># code if value matches pattern1</span>
    <span class="k">case</span> <span class="n">pattern2</span><span class="p">:</span>
        <span class="c1"># code if value matches pattern2</span>
    <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
        <span class="c1"># code for any other case (wildcard)</span>
</code></pre></div>
<strong>Why Use match Over if-elif?</strong>
- Readability: match provides a clean, concise way to handle complex data structures and patterns.
- Flexibility: Supports powerful features like guards, destructuring, and multiple pattern matching.
- Maintainability: It's easier to extend and modify as the logic is more declarative and expressive than if-elif.
- In summary, match is a modern and robust alternative to if-elif chains for pattern matching, offering clearer, more maintainable code when working with complex data types.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">traiter_message</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">match</span> <span class="n">message</span><span class="p">:</span>
        <span class="k">case</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;texte&#39;</span><span class="p">,</span> <span class="s1">&#39;contenu&#39;</span><span class="p">:</span> <span class="n">contenu</span><span class="p">}:</span>  <span class="c1"># Correspond au dictionnaire avec les clés &#39;type&#39; et &#39;contenu&#39;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Message texte reçu: </span><span class="si">{</span><span class="n">contenu</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="n">url</span><span class="p">}:</span>  <span class="c1"># Correspond au dictionnaire avec les clés &#39;type&#39; et &#39;url&#39;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Image reçue: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="s1">&#39;durée&#39;</span><span class="p">:</span> <span class="n">durée</span><span class="p">}:</span>  <span class="c1"># Correspond au dictionnaire avec les clés &#39;type&#39;, &#39;url&#39;, et &#39;durée&#39;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Vidéo reçue: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">, durée: </span><span class="si">{</span><span class="n">durée</span><span class="si">}</span><span class="s2"> secondes&quot;</span><span class="p">)</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type de message inconnu&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="map-and-reduce">Map and Reduce<a class="headerlink" href="#map-and-reduce" title="Permanent link">&para;</a></h2>
<p><code>map()</code> and <code>reduce()</code> are <strong>functional programming tools</strong> in Python that allow concise <strong>transformation</strong> and <strong>aggregation</strong> of data collections.</p>
<hr />
<p>🔹 <code>map(func, iterable)</code></p>
<ul>
<li>Applies a function to <strong>each item</strong> in an iterable.</li>
<li>Returns a new iterable (<code>map</code> object), often converted to a list.</li>
</ul>
<p>Example with a Named Function:
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>

<span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">squares</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="n">nums</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>  <span class="c1"># ➜ [1, 4, 9, 16]</span>
<span class="c1">#example with Lambda function</span>
<span class="n">squares</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">nums</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>  <span class="c1"># ➜ [1, 4, 9, 16]</span>
</code></pre></div></p>
<h2 id="decorators">Decorators<a class="headerlink" href="#decorators" title="Permanent link">&para;</a></h2>
<p>A decorator is a special type of function in Python that allows you to "decorate" or modify another function (or method) without changing its actual code. It allows you to add functionality to an existing function in a clean, readable way.
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">my_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Something is happening before the function is called.&quot;</span><span class="p">)</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Something is happening after the function is called.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@my_decorator</span>
<span class="k">def</span> <span class="nf">say_hello</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>
</code></pre></div>
<strong>Common Built-in Decorators</strong>
Python provides a few built-in decorators that are commonly used. Here are some examples:</p>
<p><strong>a. @staticmethod</strong>
A staticmethod is a method that belongs to the class but doesn't require an instance of the class to be called. It does not have access to self (instance) or cls (class).
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">say_hello</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello from a static method!&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>b. @classmethod</strong>
A classmethod is a method that works with the class itself rather than instances. It takes cls as the first argument, which refers to the class.
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">say_hello</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello from </span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</code></pre></div>
<strong>c. @property</strong>
The @property decorator turns a method into a read-only property. Instead of calling it like a method, you access it like an attribute.
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">x</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>
</code></pre></div></p>
<p>Author : Younes IKLI<br />
Last update : 2025-05-04</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d6f25eb3.min.js"></script>
      
    
  </body>
</html>